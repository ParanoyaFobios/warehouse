{% extends "base.html" %}
{% load main_tags %}
{% block content %}
<div class="container mt-4">
    <div class="row">
        <div class="col-md-6">
            <h2>{{ product.name }}</h2>
            <table class="table table-striped">
                <tbody>
                    <tr><th>Артикул:</th><td>{{ product.sku }}</td></tr>
                    <tr><th>Категория:</th><td>{{ product.category }}</td></tr>
                    <tr><th>Размер:</th><td>{{ product.size|default:"-" }}</td></tr>
                    <tr><th>Цвет:</th><td>{{ product.color|default:"-" }}</td></tr>
                    <tr><th>Вес:</th><td>{{ product.weight|default:"-" }} кг</td></tr>
                    <tr><th>Всего на складе:</th><td>{{ product.total_quantity }}</td></tr>
                    <tr><th>Зарезервировано:</th><td>{{ product.reserved_quantity }}</td></tr>
                    <tr class="table-info"><th>Доступно:</th><td class="fw-bold">{{ product.available_quantity }}</td></tr>
                </tbody>
            </table>
            <div class="mt-3">
                <a href="#" class="btn btn-warning">Редактировать</a> <a href="#" class="btn btn-secondary">Назад к списку</a> </div>
        </div>
        <div class="col-md-6">
            {% if product.image %}
                <img src="{{ product.image.url }}" class="img-fluid rounded mb-3" alt="{{ product.name }}">
            {% endif %}
            <div class="card">
                <div class="card-header">
                    <h5>Штрихкод</h5>
                </div>
                <div class="card-body text-center">
                    <img src="{% url 'generate_barcode' content_type_id=product|get_content_type_id object_id=product.pk %}" 
                         alt="Штрихкод для {{ product.name }}" class="img-fluid mb-2">
                    <p class="mt-2 font-monospace">{{ product.barcode }}</p>
                </div>
            </div>
        </div>
    </div>
</div>
{% endblock %}